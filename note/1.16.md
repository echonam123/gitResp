[TOC]



# ==Git== [^1]

[^1]:[参考：bilibili视频](https://www.bilibili.com/video/BV1i34y1i75m?p=1)

## 1.介绍

免费的、开源的分布式版本控制系统（记录一个或者若干个文件内容变化的，回溯状态）

版本控制系统两大巨头：

| Git                                                          | SVN                                                          |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| 分布式（客户端是把代码仓库完整地镜像下来，任何一台电脑都算是服务器，但因为极致地压缩内存并没有很大） | 集中化（有一个中央服务器，不同的开发人员连接服务器，下载最新版本，但是缺陷是中央服务器的单点故障） |
| 记录变化索引                                                 | 记录变化的差异                                               |

简史：linux林纳斯·本纳第克特·托瓦兹

## 2.结构

![image-20240117085750172](https://typora-011.oss-cn-guangzhou.aliyuncs.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-01-17%20085747.png)

## 3.基本命令

### 检查git安装版本

git --version

![屏幕截图 2024-01-17 090739](https://typora-011.oss-cn-guangzhou.aliyuncs.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-01-17%20090739.png)

### 清屏

clear

### 姓名和邮箱

![屏幕截图 2024-01-17 090739](https://typora-011.oss-cn-guangzhou.aliyuncs.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-01-17%20091001.png)

### 初始化本地库

【1】 跳转到自己想要作为本地库的文件

创建作为本地库的文件夹可以使用mkdir +自己想要的文件名 这一命令实现

可以直接在那个文件夹中右键选择，也可以使用命令

![屏幕截图 2024-01-17 091108](https://typora-011.oss-cn-guangzhou.aliyuncs.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-01-17%20091108.png)

【2】 git init创建

【3】创建成功，生成.git文件（隐藏文件）

### 查看.git下内容

![image-20240117091845186](https://typora-011.oss-cn-guangzhou.aliyuncs.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-01-17%20091821.png)

注意事项：.git不要胡乱修改

### 提交文件 

git add移到暂存区，git commit将内容提交到本地库![image-20240117093630202](https://typora-011.oss-cn-guangzhou.aliyuncs.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-01-17%20093625.png)

### 检查工作区和暂存区的状态

git status命令

![image-20240117093958970](https://typora-011.oss-cn-guangzhou.aliyuncs.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-01-17%20093927.png)

### 日志展示

【1】方式一：git log查看提交日志

​	ps:当历史记录过多会有分页的效果，下一页：空格，上一页：b，尾页显示（END）

【2】方式二：git log --pretty=oneline

【3】方式三：git log--oneline

【4】方式四：git reflog

### 前进，回退历史版本

==git reset --hard +索引号【本地库指针移动的同时，重置暂存区，重置工作区】==

git reset --mixed+索引号【指针移动的同时，重置暂存区，但是不重置工作区】

git reset --softed+索引号【指针移动的同时，不重置暂存区和工作区】

### 删除

【1】删除工作区的

rm +文件

【2】将删除工作同步到暂存区

git add +文件

【3】将删除操作同步到本地库

git commit -m"注释"+文件

【4】找回本地库删除的文件，只需把历史版本回滚即可

### 比对工作区和暂存区

单个文件的比对：git diff +文件名

多个文件的比对：git diff后面不加任何东西



## 4.分支

在版本控制过程中，使用多条线同时推进多个任务

分支的好处：分支是互相不影响的，可以并行开发，提高开发效率



### 分支操作(查看，创建，切换，合并)

【1】查看分支：git branch -v

【2】创建分支：git branch branch01

【3】切换分支：git checkout branch01

【4】合并分支：

切换到主分支——合并（git merge branch01)——检查冲突（若有冲突则决定后直接在冲突的文件中修改，然后通过add操作，commit操作，但是和平时不同的是，commit后面不需要加文件名）



# ==GitHub==

远程托管平台



## 查看并给远程库起别名

remote -v查看是否有别名

remote add +别名 +远程库地址

![屏幕截图 2024-01-18 001659](https://typora-011.oss-cn-guangzhou.aliyuncs.com/%E5%B1%8F%E5%B9%95%E6%88%AA%E5%9B%BE%202024-01-18%20001659.png)

## 推送

git push +远程库别名 +你要推送的分支、

## 克隆

将远程库的资料复制成为本地库

git clone +要复制的远程库地址  

## 团队协作

1.要加入别人的团队，才能提交到那个人的远程库中

问题：在同一个电脑操作不同的文件夹本地库扮演不同的角色可以不用加入团队？？？

解决：在“管理Windows凭据”中的普通凭据中找到GitHub的缓存记录删除缓存

2.如何邀请协作：settings——manage access——发送邀请链接——对方接受邀请——成功加入团队

## 远程库修改pull操作



### 方式一：fetch+merge

​										(比较麻烦但是保险)

 fetch:抓取，把远程库的东西下载到本地但是工作区文件没有更新 

​            命令：git fetch +远程库别名 +分支

fetch后要审核，先看看远程库的文件里有什么

​            【1】切换：git checkout +远程库别名/分支

​			【2】看看里面索引：ll

​			【3】看看文件内容：cat+文件内容

merge：合并

​			【1】切换到当前分支：git checkout +分支

​			【2】合并：git merge 远程库别名/分支

### 方式二：直接pull

 								(代码简单的时候推荐)

git  pull +远程库别名 +分支

## 协同开发时的冲突

1.问题：团队不同成员修改了文件同一位置信息

2.解决方法：

​					【1】先拉取git pull +远程库别名 +分支

​					【2】在工作区修改冲突 

​					【3】重新add,commit推送，记得解决冲突时commit后面不能有文件名，然后push

## 跨团队操作

举个栗子：

​		A公司和B公司协同合作，A远程库和B远程库的类似于克隆的操作叫做fork，fork后B公司程序员进行clone,push,pull操作，B公司任务完成后于A 公司远程库合并pull request(发送请求)——审核——merge，这样便完成了所有操作

## SSH免密操作

1.远程库用https地址时总是要账号密码但是win11有windows凭证只需登录一次便记住账号密码，不用再次输入

2.所以工作中一般都是用SSH免密操作(缺陷：只能用一个账号)

​	【1】进入用户主目录(cd ~)

​	【2】执行命令，在电脑C盘用户中生成.ssh的目录(git bash命令：ssh-keygen -t rsa -C +GitHub邮箱后三次会回车确认默认设置)

​	【3】打开id_rad.pub文件，将里面的内容进行复制操作

​	【4】打开GitHub-settings的new SSH keys把刚刚的东西粘贴到key中生成密钥

​	【5】将远程库的SSH地址起别名







# ==GitHub Desktop==

可以用图形化的方式拉代码，大大降低了git的使用难度





